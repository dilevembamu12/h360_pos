<!DOCTYPE html>
<html lang="fr">
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <!-- CSRF Token -->
    <meta name="csrf-token" content="IffFuMSioWiezmGVFRljK5FhlG8NXhCmb62E9Tge">

    <title>Réinitialiser le mot de passe - Hospitality 360</title> 

    <link rel="stylesheet" href="http://h360.test/css/vendor.css?v=511">


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>




<!-- app css -->
<link rel="stylesheet" href="http://h360.test/css/app.css?v=511">

<style type="text/css">
	/*
	* Pattern lock css
	* Pattern direction
	* http://ignitersworld.com/lab/patternLock.html
	*/
	.patt-wrap {
	  z-index: 10;
	}
	.patt-circ.hovered {
	  background-color: #cde2f2;
	  border: none;
	}
	.patt-circ.hovered .patt-dots {
	  display: none;
	}
	.patt-circ.dir {
	  background-image: url("http://h360.test/img/pattern-directionicon-arrow.png");
	  background-position: center;
	  background-repeat: no-repeat;
	}
	.patt-circ.e {
	  -webkit-transform: rotate(0);
	  transform: rotate(0);
	}
	.patt-circ.s-e {
	  -webkit-transform: rotate(45deg);
	  transform: rotate(45deg);
	}
	.patt-circ.s {
	  -webkit-transform: rotate(90deg);
	  transform: rotate(90deg);
	}
	.patt-circ.s-w {
	  -webkit-transform: rotate(135deg);
	  transform: rotate(135deg);
	}
	.patt-circ.w {
	  -webkit-transform: rotate(180deg);
	  transform: rotate(180deg);
	}
	.patt-circ.n-w {
	  -webkit-transform: rotate(225deg);
	   transform: rotate(225deg);
	}
	.patt-circ.n {
	  -webkit-transform: rotate(270deg);
	  transform: rotate(270deg);
	}
	.patt-circ.n-e {
	  -webkit-transform: rotate(315deg);
	  transform: rotate(315deg);
	}
</style>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
            <div class="container-fluid">
        <div class="row eq-height-row">
            <div class="col-md-5 col-sm-5 hidden-xs left-col eq-height-col" >
                <div class="left-col-content login-header"> 
                    <div style="margin-top: 50%;">
                    <a href="/">
                                           Hospitality 360
                     
                    </a>
                    <br/>
                                            <small>Système de gestion de stock et de cashflow</small>
                                        </div>
                </div>
            </div>
            <div class="col-md-7 col-sm-7 col-xs-12 right-col eq-height-col">
                <div class="row">
                <div class="col-md-3 col-xs-4" style="text-align: left;">
                    <select class="form-control input-sm" id="change_lang" style="margin: 10px;">
                                            <option value="en" 
                                                    >
                            English
                        </option>
                                            <option value="fr" 
                             
                                selected 
                                                    >
                            French - Français
                        </option>
                                        </select>
                </div>
                <div class="col-md-9 col-xs-8" style="text-align: right;padding-top: 10px;">
                                            <!-- Register Url -->
                                                                                        &nbsp; &nbsp;<span class="text-white">Déjà enregistré? </span><a href="http://h360.test/login">Se connecter</a>
                                    </div>
                
                
<div class="login-form col-md-12 col-xs-12 right-col-content">

    
    <form  method="POST" action="http://h360.test/password/email">
        <input type="hidden" name="_token" value="IffFuMSioWiezmGVFRljK5FhlG8NXhCmb62E9Tge">
         <div class="form-group has-feedback ">
            <input id="email" type="email" class="form-control" name="email" value="" required autofocus placeholder="Adresse e-mail">
            <span class="fa fa-envelope form-control-feedback"></span>
                    </div>
        <br>
        <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block btn-flat">
                Envoyer le mot de passe Réinitialiser le lien            </button>
        </div>
    </form>
</div>
                </div>
            </div>
        </div>
    </div>

    
    <script type="text/javascript">
    base_path = "http://h360.test";
    //used for push notification
    APP = {};
    APP.PUSHER_APP_KEY = '';
    APP.PUSHER_APP_CLUSTER = '';
    APP.INVOICE_SCHEME_SEPARATOR = '-';
    //variable from app service provider
    APP.PUSHER_ENABLED = '';
            APP.USER_ID = '';
    </script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js?v=$asset_v"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js?v=$asset_v"></script>
<![endif]-->
<script src="http://h360.test/js/vendor.js?v=511"></script>

    <script src="http://h360.test/js/lang/fr.js?v=511"></script>

<script>
    Dropzone.autoDiscover = false;
    moment.tz.setDefault('');
    $(document).ready(function(){
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        
            });
    
    var financial_year = {
        start: moment(''),
        end: moment(''),
    }
    
    var datepicker_date_format = "mm/dd/yyyy";
    var moment_date_format = "MM/DD/YYYY";
    var moment_time_format = "HH:mm";

    var app_locale = "fr";

    var non_utf8_languages = [
                "ar",
                "hi",
                "ps",
            ];

    var __default_datatable_page_entries = "25";

    var __new_notification_count_interval = "60000";
</script>

    <script src="http://h360.test/js/lang/fr.js?v=511"></script>

<script src="http://h360.test/js/functions.js?v=511"></script>
<script src="http://h360.test/js/common.js?v=511"></script>
<script src="http://h360.test/js/app.js?v=511"></script>
<script src="http://h360.test/js/help-tour.js?v=511"></script>
<script src="http://h360.test/js/documents_and_note.js?v=511"></script>

<!-- TODO -->

    
            <script type="text/javascript">
                $(document).on("ifChecked", ".allow_login", function(){
                    $("#" + $(this).attr("data-loginDiv")).removeClass("hide");
                })
                $(document).on("ifUnchecked", ".allow_login", function(){
                    $("#" + $(this).attr("data-loginDiv")).addClass("hide");
                })
                $(document).on("contactFormvalidationAdded", "#contact_add_form", function(e) {

                    $("#contact_add_form .input-icheck").iCheck({
                        checkboxClass: "icheckbox_square-blue"
                    });

                    if($("#username0").length) {
                        $( "#username0" ).rules( "add", {
                            minlength: 5,
                            remote: {
                                url: "/business/register/check-username",
                                type: "post",
                                data: {
                                    username: function() {
                                        return $( "#username0" ).val();
                                    }
                                }
                            },
                            messages: {
                                remote: "Invalid username or User already exist"
                            }
                        });
                    }

                    if($("#username1").length) {
                        $( "#username1" ).rules( "add", {
                            minlength: 5,
                            remote: {
                                url: "/business/register/check-username",
                                type: "post",
                                data: {
                                    username: function() {
                                        return $( "#username1" ).val();
                                    }
                                }
                            },
                            messages: {
                                remote: "Invalid username or User already exist"
                            }
                        });
                    }

                    if($("#username2").length) {
                        $( "#username2" ).rules( "add", {
                            minlength: 5,
                            remote: {
                                url: "/business/register/check-username",
                                type: "post",
                                data: {
                                    username: function() {
                                        return $( "#username2" ).val();
                                    }
                                }
                            },
                            messages: {
                                remote: "Invalid username or User already exist"
                            }
                        });
                    }
                });
            </script>
        

  <div class="modal fade" id="clock_in_clock_out_modal" tabindex="-1" role="dialog" 
        aria-labelledby="gridSystemModalLabel">
    <div class="modal-dialog" role="document">
	  <div class="modal-content">

	    <form method="POST" action="http://h360.test/hrm/clock-in-clock-out" accept-charset="UTF-8" id="clock_in_clock_out_form"><input name="_token" type="hidden" value="IffFuMSioWiezmGVFRljK5FhlG8NXhCmb62E9Tge">
	    <div class="modal-header">
	      	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	      	<h4 class="modal-title"><span id="clock_in_text">Horloge dans</span>
	      	<span id="clock_out_text">Sortie d'horloge</span></h4>
	    </div>
	    <div class="modal-body">
	    	<div class="row">
	    		<input type="hidden" name="type" id="type">
		      	<div class="form-group col-md-12">
		      		<strong>Adresse IP: ::1</strong>
		      	</div>
		      	<div class="form-group col-md-12 clock_in_note ">
		        	<label for="clock_in_note">Horloge en note:</label>
		        	<textarea class="form-control" placeholder="Horloge en note" rows="3" name="clock_in_note" cols="50" id="clock_in_note"></textarea>
		      	</div>
		      	<div class="form-group col-md-12 clock_out_note  hide ">
		        	<label for="clock_out_note">Note de sortie:</label>
		        	<textarea class="form-control" placeholder="Note de sortie" rows="3" name="clock_out_note" cols="50" id="clock_out_note"></textarea>
		      	</div>
		      	<input type="hidden" name="clock_in_out_location" id="clock_in_out_location" value="">
	    	</div>
	    		    </div>

	    <div class="modal-footer">
	      <button type="submit" class="btn btn-primary">Soumettre</button>
	      <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
	    </div>

	    </form>

	  </div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
        	
</div><script type="text/javascript">
	$(document).ready( function(){
        $('#essentials_dob').datepicker();
		$('.clock_in_btn, .clock_out_btn').click( function() {
            var type = $(this).data('type');
            if (type == 'clock_in') {
                $('#clock_in_clock_out_modal').find('#clock_in_text').removeClass('hide');
                $('#clock_in_clock_out_modal').find('#clock_out_text').addClass('hide');
                $('#clock_in_clock_out_modal').find('.clock_in_note').removeClass('hide');
                $('#clock_in_clock_out_modal').find('.clock_out_note').addClass('hide');
            } else if (type == 'clock_out') {
                $('#clock_in_clock_out_modal').find('#clock_in_text').addClass('hide');
                $('#clock_in_clock_out_modal').find('#clock_out_text').removeClass('hide');
                $('#clock_in_clock_out_modal').find('.clock_in_note').addClass('hide');
                $('#clock_in_clock_out_modal').find('.clock_out_note').removeClass('hide');
            }
            $('#clock_in_clock_out_modal').find('input#type').val(type);

            $('#clock_in_clock_out_modal').modal('show');
        });
	});

	$(document).on('submit', 'form#clock_in_clock_out_form', function(e) {
        e.preventDefault();
        $(this).find('button[type="submit"]').attr('disabled', true);
        var data = $(this).serialize();

        $.ajax({
            method: $(this).attr('method'),
            url: $(this).attr('action'),
            dataType: 'json',
            data: data,
            success: function(result) {
                if (result.success == true) {
                    $('div#clock_in_clock_out_modal').modal('hide');

                    var shift_details = document.createElement("div");
                    if (result.current_shift) {
                        shift_details.innerHTML = result.current_shift;
                    }

                    swal({
                        title: result.msg,
                        content: shift_details,
                        icon: 'success'
                    });

                    if (typeof attendance_table !== 'undefined') {
                        attendance_table.ajax.reload();
                    }
                    if (result.type == 'clock_in') {
                        $('.clock_in_btn').addClass('hide');
                        $('.clock_out_btn').removeClass('hide');
                    } else if(result.type == 'clock_out') {
                        $('.clock_out_btn').addClass('hide');
                        $('.clock_in_btn').removeClass('hide');
                    }
                } else {
                    var shift_details = document.createElement("p");
                    if (result.shift_details) {
                        shift_details.innerHTML = result.shift_details;
                    }

                    swal({
                        title: result.msg,
                        content: shift_details,
                        icon: 'error'
                    })
                }
                $('#clock_in_clock_out_form')[0].reset();
                $('#clock_in_clock_out_form').find('button[type="submit"]').removeAttr('disabled');
            },
        });
    });
    
    $(document).on('click', '#get_current_location', function(){
        getFullAddress();
    });

    function getFullAddress() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
                var latitude = position.coords.latitude;
                var longitude = position.coords.longitude;

                $.ajax({
                    url: '/user-location/' + latitude + ',' + longitude,
                    dataType: 'json',
                    success: function(result) {
                        if (typeof result.address !== 'undefined') {

                            $("input#clock_in_out_location").val(result.address);
                            $("span.clock_in_out_location").text(result.address);
                            $("div.ask_location").hide();
                        } else if (typeof result.error_message !== 'undefined') {
                            console.log(result.error_message);
                        }
                    }
                });

            },
            () => {
                $("div.ask_location").show();
                $("span.location_required").text("La localisation est obligatoire, vous devez activer la localisation")
              console.log( "Error: The Geolocation service failed.");
            }
          );
        } else {
            $("div.ask_location").show();
            $("span.location_required").text("La localisation est obligatoire, vous devez activer la localisation")
          // Browser doesn't support Geolocation
          console.log("Browser doesn't support Geolocation");
        }
    }
</script>
<script type="text/javascript">
    $(document).ready( function(){
        var locale = "fr";
        var isRTL =  false; 
        $('#calendar').fullCalendar('option', {
            locale: locale,
            isRTL: isRTL
        });
    });
</script>    
    <!-- Scripts -->
    <script src="http://h360.test/js/login.js?v=511"></script>
    
    
    <script type="text/javascript">
        $(document).ready(function(){
            $('.select2_register').select2();

            $('input').iCheck({
                checkboxClass: 'icheckbox_square-blue',
                radioClass: 'iradio_square-blue',
                increaseArea: '20%' // optional
            });
        });
    </script>
</body>

</html>